{"version":3,"file":"js/172.ee8b595b.js","mappings":"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","sources":["webpack://tradetrove/./node_modules/vue-loader/dist/exportHelper.js","webpack://tradetrove/./src/components/MyModal.vue","webpack://tradetrove/./src/components/MyModal.vue?3748","webpack://tradetrove/./src/views/CreatePostView.vue","webpack://tradetrove/./src/views/CreatePostView.vue?0dfe"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","<template>\r\n   <div class=\"modal\" :class=\"{ 'modal--visible': show }\" @click=\"hideModal\">\r\n      <div @click.stop class=\"modal__content\">\r\n         <slot></slot>\r\n      </div>\r\n   </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps, defineEmits } from 'vue';\r\n\r\nconst props = defineProps({\r\n   show: {\r\n      type: Boolean,\r\n      default: false,\r\n   },\r\n});\r\n\r\nconst emit = defineEmits(['update:show']);\r\n\r\nconst hideModal = () => {\r\n   emit('update:show', false);\r\n};\r\n\r\n// Если вам нужно включить логирование при монтировании компонента, раскомментируйте строку ниже\r\n// onMounted(() => {\r\n//   console.log('mixin mounted');\r\n// });\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal {\r\n   z-index: 10;\r\n   top: 0;\r\n   left: 0;\r\n   bottom: 0;\r\n   right: 0;\r\n   padding: 20px;\r\n   background: rgba(0, 0, 0, 0.5);\r\n   position: fixed;\r\n   display: flex;\r\n\r\n   opacity: 0;\r\n   pointer-events: none;\r\n\r\n   transition: 0.2s;\r\n   // .modal--visible\r\n   &--visible {\r\n      opacity: 1;\r\n      pointer-events: all;\r\n\r\n      .modal__content {\r\n         transform: scale(1);\r\n         opacity: 1;\r\n      }\r\n   }\r\n}\r\n.modal__content {\r\n   opacity: 0;\r\n   transform: scale(0.5);\r\n   transition: 0.2s;\r\n\r\n   margin: auto;\r\n   background-color: #fff;\r\n   border-radius: 12px;\r\n   min-height: 50px;\r\n   min-width: 300px;\r\n   padding: 20px;\r\n}\r\n</style>\r\n","import script from \"./MyModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MyModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MyModal.vue?vue&type=style&index=0&id=68f7fa1b&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-68f7fa1b\"]])\n\nexport default __exports__","<script setup>\nimport { ref, watch, computed } from 'vue';\nimport { useHostStore } from '@/stores/hostStore';\nimport { useAuthStore } from '@/stores/authStore';\nimport { useRouter } from 'vue-router';\nimport MyModal from '@/components/MyModal.vue';\n\nconst router = useRouter();\nconst host = useHostStore().host;\nconst auth = useAuthStore();\n\nconst fieldErrors = ref({}); // address, category_id, description, price, title\n\nconst title = ref('');\nconst condition = ref('new'); // new/used\nconst description = ref('');\nconst phone = ref('');\nconst connectType = ref('calls_messages'); // calls_messages/messages/calls\nconst price = ref('');\n\nconst formatNumberWithSpaces = (number) => {\n   if (number[0] === '0' && number[1] !== '0') {\n      number = number.slice(1);\n   }\n   return number.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ');\n};\nwatch(price, (value) => {\n   price.value = value.replace(/\\D/g, '');\n   price.value = formatNumberWithSpaces(price.value);\n});\nconst priceClear = computed(() => {\n   return price.value.replace(/\\s/g, '');\n});\nconst addressSuggestion = ref([]);\nconst dadata = async (address) => {\n   if (address.length <= 5) {\n      if (addressSuggestion.value.length > 0) {\n         addressSuggestion.value = [];\n      }\n      return;\n   }\n   const response = await fetch(`${host}/api/dadata-validate`, {\n      method: 'POST',\n      headers: {\n         'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ address: address }),\n   });\n\n   // const response = await fetch('https://cleaner.dadata.ru/api/v1/clean/address', {\n   //    method: 'POST',\n   //    mode: 'cors',\n   //    headers: {\n   //       'Content-Type': 'application/json',\n   //       Authorization: 'Token cdd2ba98360722bdd38297126251ea922db50cb6',\n   //       'X-Secret': 'ecc682308c3447cf68c5169bc303eaacb3796dcc',\n   //    },\n   //    body: JSON.stringify(['асбест чайковского'])\n   // });\n   console.log(response);\n   if (!response.ok) {\n      const data = await response?.json();\n      if (data?.message) {\n         alert('Ошибка: ' + data?.message);\n      } else {\n         alert('Ошибка: ' + response.status + ' ' + response.statusText);\n      }\n      return;\n   }\n   const data = await response?.json();\n   if (!data) {\n      return;\n   }\n   console.log(data);\n   const value = data?.data;\n   const suggestions = value?.suggestions;\n   if (!suggestions) {\n      return;\n   }\n   addressSuggestion.value = [];\n   let i = 0;\n   for (const suggestion of suggestions) {\n      addressSuggestion.value.push(suggestion.value);\n   }\n   // console.log(addressSuggestion.value);\n   // addressSuggestion.value = value.suggestions;\n};\n\nlet addressInputTimeout = null;\nconst address = ref('');\n// watch(address, async (value) => {\n//    if (!addressSuggestion.value.find((suggestion) => suggestion === value)) {\n//       dadata(value);\n//    }\n// });\nconst addressOnInput = (e) => {\n   clearTimeout(addressInputTimeout);\n   addressInputTimeout = setTimeout(() => {\n      const value = e.target.value;\n      if (!addressSuggestion.value.find((suggestion) => suggestion === value)) {\n         // ===============================\n         dadata(value);\n         // ===============================\n      }\n   }, 1000);\n};\nconst setAddress = (value) => {\n   address.value = value;\n   addressSuggestion.value = [];\n};\n// const logogo = () => {\n//    console.log('asrdsfhg');\n//    addressSuggestion = [];\n// };\ndocument.addEventListener('click', (e) => {\n   const target = e.target;\n   if (!target.closest('.field-suggest__list') && !target.closest('.form-add-post__text-input')) {\n      addressSuggestion.value = [];\n   }\n});\n\nconst isDropOver = ref(false);\nconst fileInputRef = ref(null);\nconst uploadedFilesUrls = ref([]);\nconst uploadedFiles = ref([]);\nconst isDragOver = ref(false);\nconst handleDragEnter = (e) => {\n   e.preventDefault();\n   isDropOver.value = true;\n};\n\nconst handleDragLeave = () => {\n   isDropOver.value = false;\n};\nconst processUploadedFiles = (files) => {\n   for (const file of files) {\n      if (file.type.startsWith('image/')) {\n         const reader = new FileReader();\n         reader.onload = (e) => {\n            uploadedFilesUrls.value.push({ url: e.target.result });\n         };\n         reader.readAsDataURL(file);\n      } else {\n         console.log(\n            'Попытка загрузить файл типа: ' + file.type + ' (разрешены только изображения)'\n         );\n      }\n   }\n};\n\nconst handleFileUpload = () => {\n   const files = fileInputRef.value.files;\n   processUploadedFiles(files);\n   uploadedFiles.value = [...uploadedFiles.value, ...files];\n   console.log(uploadedFiles.value);\n};\n\nconst handleDrop = (e) => {\n   e.preventDefault();\n   isDropOver.value = false;\n   const files = e.dataTransfer.files;\n   processUploadedFiles(files);\n   uploadedFiles.value = [...uploadedFiles.value, ...files];\n   console.log(uploadedFiles.value);\n};\n\nconst removeFile = (index) => {\n   uploadedFilesUrls.value.splice(index, 1);\n   uploadedFiles.value.splice(index, 1);\n};\n\nconst category = ref('');\nconst categoriesList = ref([]);\nconst categoriesTree = ref([]);\nconst isCategoriesLoading = ref(false);\nconst isCategoryModalShow = ref(false);\nconst selectedMainCategory = ref({});\nconst categoryPath = ref('');\nconst loadCategories = async () => {\n   isCategoriesLoading.value = true;\n   const response = await fetch(`${host}/api/category`);\n   const data = await response?.json();\n   isCategoriesLoading.value = false;\n   if (!response.ok) {\n      if (!data) {\n         alert('Ошибка загрузки категорий');\n      }\n   }\n   if (data) {\n      if (data.success) {\n         categoriesTree.value = buildCategoryTree(data.data);\n         selectedMainCategory.value = categoriesTree.value[0];\n         categoriesList.value = data.data;\n      } else {\n         alert('Ошибка загрузки категорий. ' + data?.message);\n      }\n   }\n};\nfunction buildCategoryTree(categories) {\n   const categoryMap = new Map();\n   const categoryTree = [];\n\n   categories.forEach((category) => {\n      categoryMap.set(category.id, { ...category, children: [] });\n   });\n\n   categories.forEach((category) => {\n      const { id, parent_category_id } = category;\n      const currentCategory = categoryMap.get(id);\n      if (parent_category_id === null) {\n         categoryTree.push(currentCategory);\n      } else {\n         const parentCategory = categoryMap.get(parent_category_id);\n         if (parentCategory) {\n            parentCategory.children.push(currentCategory);\n         }\n      }\n   });\n\n   return categoryTree;\n}\nconst handleClickSelectCategory = () => {\n   isCategoryModalShow.value = true;\n   if (categoriesTree.value.length === 0) {\n      loadCategories();\n   }\n};\nconst getCategoryPath = (category) => {\n   let path = category.name;\n   let parentCategory = category;\n   while (parentCategory.parent_category_id !== null) {\n      parentCategory = categoriesList.value.find(\n         (cat) => cat.id === parentCategory.parent_category_id\n      );\n      path = `${parentCategory.name} > ${path}`;\n   }\n   return path;\n};\nconst selectCategory = (selectedCategory) => {\n   isCategoryModalShow.value = false;\n   category.value = selectedCategory;\n   // console.log(category.value);\n   categoryPath.value = getCategoryPath(selectedCategory);\n   console.log(categoryPath);\n};\n\nconst validateFields = () => {\n   if (!category.value) {\n      fieldErrors.value.category_id = ['Выберите категорию'];\n   }\n   if (!title.value) {\n      fieldErrors.value.title = ['Заполните заголовок'];\n   }\n   if (!description.value) {\n      fieldErrors.value.description = ['Заполните описание'];\n   }\n   if (!address.value) {\n      fieldErrors.value.address = ['Заполните адрес'];\n   }\n   if (connectType.value == 'calls_messages' || connectType.value == 'calls') {\n      if (!phone.value) {\n         fieldErrors.value.phone = ['Введите номер телефон'];\n      } else if (!/^\\+7 \\(\\d{3}\\) \\d{3}-\\d{2}-\\d{2}$/.test(phone.value)) {\n         fieldErrors.value.phone = ['Неверный формат номера телефона'];\n      }\n   }\n   if (fieldErrors.value && Object.keys(fieldErrors.value).length > 0) {\n      return false;\n   }\n   return true;\n};\nconst sendCreatePostForm = async (isDraft = false) => {\n   const formData = new FormData();\n   for (const file of uploadedFiles.value) {\n      formData.append('files[]', file);\n   }\n   formData.append('category_id', category.value.id);\n   formData.append('title', title.value);\n   formData.append('condition', condition.value);\n   formData.append('description', description.value);\n   formData.append('price', priceClear.value);\n   formData.append('address', address.value);\n   formData.append('phone', phone.value);\n   formData.append('connect_type', connectType.value);\n   isDraft ? formData.append('status_id', 3) : formData.append('status_id', 2);\n\n   const response = await fetch(`${host}/api/post`, {\n      method: 'POST',\n      headers: {\n         // 'Content-Type': 'application/json',\n         Authorization: `Bearer ${auth.getToken}`,\n      },\n      body: formData,\n   });\n   const data = await response?.json();\n   if (!response.ok) {\n      if (data?.message) {\n      }\n      if (data?.errors) {\n         fieldErrors.value = data.errors;\n      }\n   }\n   if (data) {\n      if (data.success) {\n         if (isDraft) {\n            isPostDraftCreatedModalShow.value = true;\n         } else {\n            isPostCreatedModalShow.value = true;\n         }\n      }\n      console.log(data);\n   }\n};\nconst isPostCreatedModalShow = ref(false);\nconst createPost = async () => {\n   const token = auth.getToken;\n   if (!token) {\n      alert('Вы не авторизованы');\n      router.push('/login');\n      return;\n   }\n   fieldErrors.value = {};\n   if (validateFields()) {\n      sendCreatePostForm();\n   }\n\n   // const fieldErrors = ref({}); // address, category_id, description, title, phone\n   // if (!category.value) {\n   //    fieldErrors.value.category_id = ['Выберите категорию'];\n   // }\n   // if (!title.value) {\n   //    fieldErrors.value.title = ['Заполните заголовок'];\n   // }\n   // if (!description.value) {\n   //    fieldErrors.value.description = ['Заполните описание'];\n   // }\n   // if (!address.value) {\n   //    fieldErrors.value.address = ['Заполните адрес'];\n   // }\n   // if ((connectType.value == 'calls_messages' || connectType.value == 'calls') && !phone.value) {\n   //    fieldErrors.value.phone = ['Введите номер телефон'];\n   // }\n   // if (fieldErrors.value && Object.keys(fieldErrors.value).length > 0) {\n   //    return;\n   // }\n   // const formData = new FormData();\n   // for (const file of uploadedFiles.value) {\n   //    formData.append('files[]', file);\n   // }\n   // formData.append('category_id', category.value.id);\n   // formData.append('title', title.value);\n   // formData.append('condition', condition.value);\n   // formData.append('description', description.value);\n   // formData.append('price', priceClear.value);\n   // formData.append('address', address.value);\n   // formData.append('phone', phone.value);\n   // formData.append('connect_type', connectType.value);\n\n   // const response = await fetch(`${host}/api/post`, {\n   //    method: 'POST',\n   //    headers: {\n   //       // 'Content-Type': 'application/json',\n   //       Authorization: `Bearer ${auth.getToken}`,\n   //    },\n   //    body: formData,\n   // });\n   // const data = await response?.json();\n   // if (!response.ok) {\n   //    if (data?.message) {\n   //    }\n   //    if (data?.errors) {\n   //       fieldErrors.value = data.errors;\n   //    }\n   // }\n   // if (data) {\n   //    if (data.success) {\n   //       isPostCreatedModalShow.value = true;\n   //    }\n   //    console.log(data);\n   // }\n};\n\nconst createDraftPost = () => {\n   const token = auth.getToken;\n   if (!token) {\n      alert('Вы не авторизованы');\n      router.push('/login');\n      return;\n   }\n   fieldErrors.value = {};\n   if (validateFields()) {\n      sendCreatePostForm(true);\n   }\n};\n\nconst closePostCreatedModal = (isPostDraftCreatedModalShowObj) => {\n   console.log(isPostDraftCreatedModalShowObj);\n   isPostDraftCreatedModalShowObj.value = false;\n   router.push('/');\n};\n\nconst isPostDraftCreatedModalShow = ref(false);\n</script>\n\n<template>\n   <MyModal v-model:show=\"isPostDraftCreatedModalShow\">\n      <div class=\"success-modal content-modal\">\n         <header class=\"success-modal__header content-modal__header\">\n            <h2 class=\"success-modal__title content-modal__title\">Черновик сохранен</h2>\n            <button\n               class=\"success-modal__close content-modal__close\"\n               @click=\"closePostCreatedModal(isPostDraftCreatedModalShow)\"\n               type=\"button\"\n            >\n               <font-awesome-icon icon=\"xmark\" />\n            </button>\n         </header>\n         <div class=\"success-modal__content\">\n            <div class=\"success-modal__icon\">\n               <font-awesome-icon icon=\"check\" class=\"success-modal__icon-svg\" />\n            </div>\n            <div class=\"success-modal__text\">\n               <div class=\"success-modal__text-title\">Объявление сохранено в черновики</div>\n               <div class=\"success-modal__text-subtitle\">\n                  Вы можете продолжить заполнение объявления в личном кабинете\n               </div>\n            </div>\n            <p class=\"success-modal__text\"></p>\n         </div>\n         <footer class=\"success-modal__footer\">\n            <button class=\"btn btn--accent\" @click=\"closePostCreatedModal\">ОК</button>\n         </footer>\n      </div>\n   </MyModal>\n   <MyModal v-model:show=\"isPostCreatedModalShow\">\n      <div class=\"success-modal content-modal\">\n         <header class=\"success-modal__header content-modal__header\">\n            <h2 class=\"success-modal__title content-modal__title\">Объявление создано</h2>\n            <button\n               class=\"success-modal__close content-modal__close\"\n               @click=\"closePostCreatedModal(isPostCreatedModalShow)\"\n               type=\"button\"\n            >\n               <font-awesome-icon icon=\"xmark\" />\n            </button>\n         </header>\n         <div class=\"success-modal__content\">\n            <div class=\"success-modal__icon\">\n               <font-awesome-icon icon=\"check\" class=\"success-modal__icon-svg\" />\n            </div>\n            <div class=\"success-modal__text\">\n               <div class=\"success-modal__text-title\">\n                  Объявление успешно создано и отправлено на модерацию!\n               </div>\n               <div class=\"success-modal__text-subtitle\">\n                  После проверки модератором ваше объявление увидят другие пользователи\n               </div>\n            </div>\n            <p class=\"success-modal__text\"></p>\n         </div>\n         <footer class=\"success-modal__footer\">\n            <button class=\"btn btn--accent\" @click=\"closePostCreatedModal\">ОК</button>\n         </footer>\n      </div>\n   </MyModal>\n   <MyModal v-model:show=\"isCategoryModalShow\">\n      <div class=\"category-modal content-modal\">\n         <header class=\"category-modal__header content-modal__header\">\n            <h2 class=\"category-modal__title content-modal__title\">Выбор категории</h2>\n            <button\n               class=\"category-modal__close content-modal__close\"\n               @click=\"isCategoryModalShow = false\"\n               type=\"button\"\n            >\n               <font-awesome-icon icon=\"xmark\" />\n            </button>\n         </header>\n         <!-- categoriesList -->\n         <div :class=\"{ center: isCategoriesLoading }\" class=\"category-modal__content\">\n            <div v-if=\"isCategoriesLoading\" class=\"loader category-modal__loader\"></div>\n            <div v-else class=\"category-modal__row\">\n               <div class=\"category-modal__main-col main-category\">\n                  <div class=\"main-category__list\">\n                     <button\n                        :class=\"{\n                           'main-category__item--active':\n                              selectedMainCategory.id == mainCategory.id,\n                        }\"\n                        v-for=\"mainCategory in categoriesTree\"\n                        @click=\"selectedMainCategory = mainCategory\"\n                        class=\"main-category__item\"\n                     >\n                        {{ mainCategory.name }}\n                     </button>\n                     <!-- <div class=\"main-category__item\">Имя категории</div>\n                     <div class=\"main-category__item\">Имя категории</div>\n                     <div class=\"main-category__item\">Имя категории</div>\n                     <div class=\"main-category__item\">Имя категории</div> -->\n                  </div>\n               </div>\n               <div class=\"category-modal__second-col second-category\">\n                  <div class=\"second-category__list\">\n                     <div\n                        v-for=\"secondCategory in selectedMainCategory.children\"\n                        class=\"second-category__item item-second-category\"\n                     >\n                        <button\n                           @click=\"selectCategory(secondCategory)\"\n                           class=\"item-second-category__title\"\n                        >\n                           {{ secondCategory.name }}\n                        </button>\n                        <div\n                           v-if=\"secondCategory.children.length\"\n                           class=\"item-second-category__list\"\n                        >\n                           <button\n                              v-for=\"thirdCategory in secondCategory.children\"\n                              @click=\"selectCategory(thirdCategory)\"\n                              class=\"item-second-category__item link\"\n                           >\n                              {{ thirdCategory.name }}\n                           </button>\n                        </div>\n                     </div>\n                  </div>\n               </div>\n            </div>\n         </div>\n      </div>\n   </MyModal>\n   <div class=\"add-post\">\n      <!-- <input v-model=\"dadataInput\" type=\"text\" class=\"input\" />\n      <button class=\"btn\" @click=\"dadata\">test dadata.ru</button> -->\n      <div class=\"container add-post__content\">\n         <div class=\"breadcrumbs add-post__breadcrumbs\">\n            <div class=\"breadcrumbs__list\">\n               <router-link to=\"/\" class=\"breadcrumbs__item link\">Главная</router-link>\n               <span class=\"breadcrumbs__separator\"\n                  ><font-awesome-icon icon=\"chevron-right\"\n               /></span>\n               <span class=\"breadcrumbs__item\">Создать объявление</span>\n            </div>\n         </div>\n         <h2 class=\"add-post__title title\">Создать объявление</h2>\n         <div class=\"add-post__form form-add-post\">\n            <div class=\"form-add-post__category\">\n               <h3 class=\"form-add-post__category-label\">Категория</h3>\n               <div class=\"form-add-post__category-list\">\n                  <div class=\"form-add-post__field\">\n                     <div class=\"form-add-post__value\">\n                        <div class=\"form-add-post__text\">\n                           <button\n                              class=\"btn form-add-post__text-select-category\"\n                              @click=\"handleClickSelectCategory\"\n                           >\n                              Выбрать категорию\n                           </button>\n                           <input\n                              :value=\"categoryPath\"\n                              :class=\"{ invalid: fieldErrors.category_id }\"\n                              disabled\n                              placeholder=\"Категория\"\n                              type=\"text\"\n                              name=\"title\"\n                              class=\"form-add-post__text-input input\"\n                           />\n                        </div>\n                     </div>\n                  </div>\n               </div>\n               <div v-if=\"fieldErrors.category_id\" class=\"form-add-post__category-errors\">\n                  <div\n                     v-for=\"error in fieldErrors.category_id\"\n                     class=\"form-add-post__category-error color-red\"\n                  >\n                     {{ error }}\n                  </div>\n               </div>\n            </div>\n            <div class=\"form-add-post__category\">\n               <h3 class=\"form-add-post__category-label\">Параметры</h3>\n               <div class=\"form-add-post__category-list\">\n                  <div class=\"form-add-post__field\">\n                     <div class=\"form-add-post__label\">Название объявления</div>\n                     <div class=\"form-add-post__value\">\n                        <div class=\"form-add-post__text\">\n                           <input\n                              v-model.trim=\"title\"\n                              :class=\"{ invalid: fieldErrors.title }\"\n                              type=\"text\"\n                              name=\"title\"\n                              class=\"form-add-post__text-input input\"\n                           />\n                        </div>\n                        <div v-if=\"fieldErrors.title\" class=\"form-add-post__text-errors\">\n                           <div\n                              v-for=\"error in fieldErrors.title\"\n                              class=\"form-add-post__text-error color-red\"\n                           >\n                              {{ error }}\n                           </div>\n                        </div>\n                     </div>\n                  </div>\n                  <div class=\"form-add-post__field\">\n                     <div class=\"form-add-post__label\">Состояние</div>\n                     <div class=\"form-add-post__value\">\n                        <div class=\"form-add-post__value-radio-btn\">\n                           <div class=\"form-add-post__radio radio-btn\">\n                              <input\n                                 v-model=\"condition\"\n                                 checked\n                                 type=\"radio\"\n                                 name=\"condition\"\n                                 id=\"new\"\n                                 value=\"new\"\n                                 class=\"form-add-post__radio-input radio-btn__input\"\n                              />\n                              <label for=\"new\" class=\"form-add-post__radio-label radio-btn__label\"\n                                 >Новое</label\n                              >\n                           </div>\n                           <div class=\"form-add-post__radio radio-btn\">\n                              <input\n                                 v-model=\"condition\"\n                                 type=\"radio\"\n                                 name=\"condition\"\n                                 id=\"used\"\n                                 value=\"used\"\n                                 class=\"form-add-post__radio-input radio-btn__input\"\n                              />\n                              <label for=\"used\" class=\"form-add-post__radio-label radio-btn__label\"\n                                 >Б/у</label\n                              >\n                           </div>\n                        </div>\n                        <!-- <div class=\"form-add-post__value-checkbox\">\n                           <div class=\"form-add-post__checkbox checkbox-btn\">\n                              <label\n                                 for=\"condition_1\"\n                                 class=\"form-add-post__checkbox-label checkbox-btn__label\"\n                                 >Новое</label\n                              >\n                              <input\n                                 type=\"checkbox\"\n                                 name=\"condition\"\n                                 id=\"condition_1\"\n                                 class=\"form-add-post__checkbox-input checkbox-btn__input\"\n                              />\n                           </div>\n                           <div class=\"form-add-post__checkbox checkbox-btn\">\n                              <label\n                                 for=\"condition_2\"\n                                 class=\"form-add-post__checkbox-label checkbox-btn__label\"\n                                 >Б/у</label\n                              >\n                              <input\n                                 type=\"checkbox\"\n                                 name=\"condition\"\n                                 id=\"condition_2\"\n                                 class=\"form-add-post__checkbox-input checkbox-btn__input\"\n                              />\n                           </div>\n                        </div> -->\n                     </div>\n                  </div>\n                  <div class=\"form-add-post__field\">\n                     <div class=\"form-add-post__label\">Описание объявления</div>\n                     <div class=\"form-add-post__value\">\n                        <div class=\"form-add-post__value-textarea\">\n                           <div class=\"form-add-post__textarea\">\n                              <textarea\n                                 v-model.trim=\"description\"\n                                 :class=\"{ invalid: fieldErrors.description }\"\n                                 name=\"description\"\n                                 class=\"form-add-post__textarea-input textarea\"\n                              ></textarea>\n                           </div>\n                           <div v-if=\"fieldErrors.description\" class=\"form-add-post__text-errors\">\n                              <div\n                                 v-for=\"error in fieldErrors.description\"\n                                 class=\"form-add-post__text-error color-red\"\n                              >\n                                 {{ error }}\n                              </div>\n                           </div>\n                        </div>\n                     </div>\n                  </div>\n                  <div class=\"form-add-post__field\">\n                     <div class=\"form-add-post__label\">Цена</div>\n                     <div class=\"form-add-post__value\">\n                        <div class=\"form-add-post__text form-add-post__text--price\">\n                           <font-awesome-icon icon=\"ruble-sign\" />\n                           <input\n                              v-model=\"price\"\n                              maxlength=\"112\"\n                              type=\"text\"\n                              name=\"price\"\n                              class=\"form-add-post__text-input input\"\n                           />\n                        </div>\n                     </div>\n                  </div>\n                  <div class=\"form-add-post__field\">\n                     <div class=\"form-add-post__label\">Фотографии</div>\n                     <div class=\"form-add-post__value\">\n                        <div class=\"form-add-post__files\">\n                           <input\n                              ref=\"fileInputRef\"\n                              @change=\"handleFileUpload\"\n                              type=\"file\"\n                              name=\"files[]\"\n                              id=\"files\"\n                              multiple\n                              accept=\"image/jpeg, image/jpg, image/png, image/jfif\"\n                              class=\"form-add-post__files-input input-hidden\"\n                           />\n                           <div class=\"form-add-post__files-list\">\n                              <div\n                                 v-for=\"(file, index) in uploadedFilesUrls\"\n                                 :key=\"index\"\n                                 class=\"form-add-post__files-label load-file load-file--preview\"\n                              >\n                                 <button\n                                    type=\"button\"\n                                    class=\"load-file__remove-btn\"\n                                    @click=\"removeFile(index)\"\n                                 >\n                                    <font-awesome-icon icon=\"xmark\" />\n                                 </button>\n                                 <img :src=\"file.url\" alt=\"\" />\n                              </div>\n                              <!-- <div class=\"form-add-post__files-label load-file load-file--preview\">\n                                 <button type=\"button\" class=\"load-file__remove-btn\">\n                                    <font-awesome-icon icon=\"xmark\" />\n                                 </button>\n                                 <img src=\"../assets/post-img.jpg\" alt=\"\" />\n                              </div> -->\n                              <label for=\"files\" class=\"form-add-post__files-label load-file\">\n                                 <font-awesome-icon icon=\"plus\" />\n                              </label>\n                           </div>\n                           <label\n                              :class=\"{ over: isDropOver }\"\n                              @dragstart.prevent=\"console.log('dragstart')\"\n                              @dragover.prevent=\"console.log('dragover')\"\n                              @dragenter.prevent=\"handleDragEnter\"\n                              @dragleave=\"handleDragLeave\"\n                              @drop=\"handleDrop\"\n                              class=\"form-add-post__files-drop\"\n                              for=\"files\"\n                           >\n                              <span class=\"form-add-post__files-drop-text\"\n                                 >Перенесите сюда фотографии для загрузки</span\n                              >\n                           </label>\n                        </div>\n                     </div>\n                  </div>\n               </div>\n            </div>\n            <div class=\"form-add-post__category\">\n               <h3 class=\"form-add-post__category-label\">Место сделки</h3>\n               <div class=\"form-add-post__category-list\">\n                  <div class=\"form-add-post__field\">\n                     <div class=\"form-add-post__value\">\n                        <div class=\"form-add-post__text form-add-post__text--address\">\n                           <input\n                              @input=\"addressOnInput\"\n                              v-model=\"address\"\n                              :class=\"{ invalid: fieldErrors.address }\"\n                              type=\"text\"\n                              name=\"address\"\n                              class=\"form-add-post__text-input input\"\n                              placeholder=\"Начните вводить адрес\"\n                              autocomplete=\"off\"\n                           />\n\n                           <div\n                              v-show=\"addressSuggestion.length\"\n                              class=\"form-add-post__text-suggest field-suggest\"\n                           >\n                              <div class=\"field-suggest__list\">\n                                 <button\n                                    v-for=\"(suggestion, index) in addressSuggestion\"\n                                    :key=\"index\"\n                                    @click=\"setAddress(suggestion)\"\n                                    type=\"button\"\n                                    class=\"field-suggest__item\"\n                                 >\n                                    {{ suggestion }}\n                                 </button>\n                              </div>\n                           </div>\n                        </div>\n                     </div>\n                  </div>\n               </div>\n               <div v-if=\"fieldErrors.address\" class=\"form-add-post__text-errors\">\n                  <div\n                     v-for=\"error in fieldErrors.address\"\n                     class=\"form-add-post__text-error color-red\"\n                  >\n                     {{ error }}\n                  </div>\n               </div>\n            </div>\n            <div class=\"form-add-post__category\">\n               <h3 class=\"form-add-post__category-label\">Контакты</h3>\n               <div class=\"form-add-post__category-list\">\n                  <div class=\"form-add-post__field\">\n                     <div class=\"form-add-post__label\">Способ связи</div>\n                     <div class=\"form-add-post__value\">\n                        <div class=\"form-add-post__value-radio\">\n                           <div class=\"form-add-post__radio radio\">\n                              <input\n                                 v-model=\"connectType\"\n                                 checked\n                                 type=\"radio\"\n                                 name=\"connect_type\"\n                                 id=\"calls_messages\"\n                                 value=\"calls_messages\"\n                                 class=\"form-add-post__radio-input radio__input\"\n                              />\n                              <label\n                                 for=\"calls_messages\"\n                                 class=\"form-add-post__radio-label radio__label\"\n                                 >Звонки и сообщения</label\n                              >\n                           </div>\n                           <div class=\"form-add-post__radio radio\">\n                              <input\n                                 v-model=\"connectType\"\n                                 type=\"radio\"\n                                 name=\"connect_type\"\n                                 id=\"calls\"\n                                 value=\"calls\"\n                                 class=\"form-add-post__radio-input radio__input\"\n                              />\n                              <label for=\"calls\" class=\"form-add-post__radio-label radio__label\"\n                                 >Только звонки</label\n                              >\n                           </div>\n                           <div class=\"form-add-post__radio radio\">\n                              <input\n                                 v-model=\"connectType\"\n                                 type=\"radio\"\n                                 name=\"connect_type\"\n                                 id=\"messages\"\n                                 value=\"messages\"\n                                 class=\"form-add-post__radio-input radio__input\"\n                              />\n                              <label for=\"messages\" class=\"form-add-post__radio-label radio__label\"\n                                 >Только сообщения</label\n                              >\n                           </div>\n                        </div>\n                     </div>\n                  </div>\n\n                  <!-- v-if=\"connectType === 'calls_messages' || connectType === 'calls'\" -->\n                  <div\n                     :class=\"{\n                        active: connectType === 'calls_messages' || connectType === 'calls',\n                     }\"\n                     class=\"form-add-post__field form-add-post__field--phone\"\n                  >\n                     <div class=\"form-add-post__label\">Телефон</div>\n                     <div class=\"form-add-post__value\">\n                        <div class=\"form-add-post__text\">\n                           <input\n                              v-mask=\"'+7 (###) ###-##-##'\"\n                              placeholder=\"+7 (___) ___-__-__\"\n                              :class=\"{ invalid: fieldErrors.phone }\"\n                              v-model=\"phone\"\n                              type=\"text\"\n                              name=\"title\"\n                              class=\"form-add-post__text-input input\"\n                           />\n                        </div>\n                        <div\n                           v-if=\"\n                              (connectType === 'calls_messages' || connectType === 'calls') &&\n                              fieldErrors.phone\n                           \"\n                           class=\"form-add-post__text-errors\"\n                        >\n                           <div\n                              v-for=\"error in fieldErrors.phone\"\n                              class=\"form-add-post__text-error color-red\"\n                           >\n                              {{ error }}\n                           </div>\n                        </div>\n                     </div>\n                  </div>\n               </div>\n            </div>\n            <div class=\"form-add-post__btns\">\n               <button @click=\"createPost\" type=\"button\" class=\"form-add-post__btn btn btn--dark\">\n                  Создать\n               </button>\n               <button @click=\"createDraftPost\" type=\"button\" class=\"form-add-post__btn btn\">\n                  Сохранить в черновик\n               </button>\n            </div>\n         </div>\n      </div>\n   </div>\n</template>\n\n<style scoped lang=\"scss\">\n.add-post {\n   flex-grow: 1;\n   // .add-post__content\n   &__content {\n      max-width: 900px;\n   }\n   // add-post__title\n   &__title {\n      margin-bottom: 30px;\n   }\n   // .add-post__breadcrumbs\n   &__breadcrumbs {\n   }\n   // .add-post__form\n   &__form {\n   }\n}\n.form-add-post {\n   // .form-add-post__category\n   &__category {\n      &:not(:last-child) {\n         margin-bottom: 70px;\n      }\n   }\n   // .form-add-post__category-label\n   &__category-label {\n      font-size: 24px;\n      margin-bottom: 15px;\n   }\n   // .form-add-post__category-list\n   &__category-list {\n      display: flex;\n      flex-direction: column;\n      gap: 15px;\n   }\n   // .form-add-post__category-errors\n   &__category-errors {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n      align-items: center;\n   }\n   // .form-add-post__category-error\n   &__category-error {\n      text-align: center;\n   }\n   // .form-add-post__field\n   &__field {\n      display: flex;\n   }\n   // .form-add-post__label\n   &__label {\n      flex-shrink: 0;\n      color: var(--dark-grey-color);\n      width: 25%;\n      padding-top: 16px;\n   }\n   // .form-add-post__value\n   &__value {\n      flex-grow: 1;\n   }\n   // .form-add-post__text\n   &__text {\n      position: relative;\n      &--address {\n         z-index: 3;\n         input {\n            position: relative;\n            z-index: 2;\n         }\n      }\n      // .form-add-post__text--price\n      &--price {\n         position: relative;\n         svg {\n            position: absolute;\n            top: calc(50% - 0.5em);\n            left: 10px;\n         }\n         input {\n            padding-left: 30px;\n            font-weight: 600;\n            font-size: 18px;\n         }\n      }\n   }\n   // .form-add-post__text-errors\n   &__text-errors {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n      align-items: center;\n   }\n   // .form-add-post__text-error\n   &__text-error {\n      text-align: center;\n   }\n   // .form-add-post__text-select-category\n   &__text-select-category {\n      margin-bottom: 15px;\n   }\n   // .form-add-post__text-suggest\n   &__text-suggest {\n      z-index: 1;\n      position: absolute;\n      top: 100%;\n      left: 0;\n      right: 0;\n      transition: 0.2s;\n      animation: opacity 0.1s ease;\n      padding-bottom: 70px;\n      // &.with-animation {\n      //    transition: .3s;\n      // }\n   }\n   @keyframes opacity {\n      0% {\n         // opacity: 0;\n         transform: translateY(-30px);\n      }\n      100% {\n         // opacity: 1;\n         transform: translateY(0);\n      }\n   }\n   // .form-add-post__text-input\n   &__text-input {\n   }\n   // .form-add-post__value-checkbox\n   &__value-checkbox {\n   }\n   // .form-add-post__checkbox\n   &__checkbox {\n   }\n   // .form-add-post__checkbox-label\n   &__checkbox-label {\n   }\n   // .form-add-post__checkbox-input\n   &__checkbox-input {\n   }\n   // .form-add-post__value-textarea\n   &__value-textarea {\n   }\n   // .form-add-post__textarea\n   &__textarea {\n   }\n   // .form-add-post__textarea-input\n   &__textarea-input {\n      min-height: 150px;\n   }\n   // .form-add-post__files\n   &__files {\n   }\n   // .form-add-post__files-input\n   &__files-input {\n   }\n   // .form-add-post__files-list\n   &__files-list {\n      display: flex;\n      gap: 10px;\n      flex-wrap: wrap;\n   }\n   // .form-add-post__files-label\n   &__files-label {\n      width: 200px;\n      height: 150px;\n      overflow: hidden;\n   }\n   // .form-add-post__files-drop\n   &__files-drop {\n      transition: 0.15s;\n      margin-top: 20px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      height: 200px;\n      border: 2px dashed var(--accent-color);\n      border-radius: 5px;\n      padding: 20px;\n      &.over,\n      &:hover {\n         background-color: var(--accent-color-light);\n      }\n   }\n   // .form-add-post__files-drop-text\n   &__files-drop-text {\n      pointer-events: none;\n      text-align: center;\n      font-size: 18px;\n      font-weight: 600;\n   }\n   // .form-add-post__value-radio-btn\n   &__value-radio-btn {\n      display: flex;\n      gap: 10px;\n      flex-wrap: wrap;\n   }\n   // .form-add-post__value-radio\n   &__value-radio {\n      display: flex;\n      flex-direction: column;\n      gap: 15px;\n   }\n   // .form-add-post__radio\n   &__radio {\n   }\n   // .form-add-post__radio-label\n   &__radio-label {\n   }\n   // .form-add-post__radio-input\n   &__radio-input {\n   }\n   // .form-add-post__btns\n   &__btns {\n      display: flex;\n      gap: 20px;\n      justify-content: center;\n      font-size: 18px;\n      margin-bottom: 50px;\n      flex-wrap: wrap;\n   }\n   // .form-add-post__btn\n   &__btn {\n   }\n}\n.field-suggest {\n   // .field-suggest__list\n   &__list {\n      background-color: #fff;\n      border: 1px solid #999;\n      border-radius: 5px;\n      box-shadow: 0 0 15px 2px rgba(0, 0, 0, 0.7);\n      display: flex;\n      flex-direction: column;\n   }\n   // .field-suggest__item\n   &__item {\n      padding: 10px;\n      transition: 0.1s;\n      font-weight: 500;\n      text-align: left;\n      &:hover {\n         background-color: #ddd;\n      }\n      &:not(:last-child) {\n         border-bottom: 1px solid #999;\n         // padding-bottom: 5px;\n         // margin-bottom: 10px;\n      }\n   }\n}\n.input {\n}\n.checkbox-btn {\n   // .checkbox-btn__label\n   &__label {\n   }\n   // .checkbox-btn__input\n   &__input {\n   }\n}\n.textarea {\n}\n.input-hidden {\n}\n.load-file {\n   &:not(.load-file--preview) {\n      background-color: #c9c9c9;\n      svg {\n         font-size: 40px;\n      }\n      &:hover {\n         background-color: #b9b9b9;\n      }\n   }\n   display: flex;\n   align-items: center;\n   justify-content: center;\n   border-radius: 5px;\n   font-size: 24px;\n   transition: 0.2s;\n\n   // .load-file--preview\n   &--preview {\n      border: 1px solid #999;\n      position: relative;\n      &::before {\n         transition: 0.2s;\n         opacity: 0;\n         content: '';\n         position: absolute;\n         top: 0;\n         right: 0;\n         bottom: 0;\n         left: 0;\n         background-color: rgba(0, 0, 0, 0.6);\n      }\n      &:hover {\n         &::before {\n            opacity: 1;\n         }\n         .load-file__remove-btn {\n            opacity: 1;\n            pointer-events: all;\n         }\n      }\n      img {\n         width: 100%;\n         height: 100%;\n         object-fit: contain;\n      }\n   }\n   // .load-file__remove-btn\n   &__remove-btn {\n      opacity: 0;\n      pointer-events: none;\n\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      color: var(--red-color);\n      font-size: 46px;\n      line-height: 1;\n      transition: 0.2s;\n      &:hover {\n         transform: translate(-50%, -50%) scale(1.2);\n      }\n   }\n}\n.radio-btn {\n   // .radio-btn__label\n   &__label {\n      display: inline-block;\n      padding: 15px 20px;\n      border-radius: 5px;\n      border: 1px solid #555;\n      transition: 0.2s;\n      &:hover {\n         background-color: #ccc;\n      }\n      .radio-btn__input:checked + & {\n         background-color: #ddd;\n         background-color: var(--orange-color);\n         background-color: #8cb658;\n         background-color: var(--accent-color);\n         background-color: #464646;\n         // background-color: var(--green-color);\n         color: #fff;\n         font-weight: 600;\n      }\n   }\n   // .radio-btn__input\n   &__input {\n      position: absolute;\n      width: 0;\n      height: 0;\n      opacity: 0;\n      visibility: hidden;\n      pointer-events: none;\n   }\n}\n.radio {\n   // .radio__label\n   &__label {\n   }\n   // .radio__input\n   &__input {\n   }\n}\n.btn {\n   // .btn--dark\n   &--dark {\n   }\n}\n</style>\n","import script from \"./CreatePostView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CreatePostView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CreatePostView.vue?vue&type=style&index=0&id=15565cab&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-15565cab\"]])\n\nexport default __exports__"],"names":["exports","sfc","props","target","__vccOpts","key","val","emit","__emit","hideModal","__exports__","router","useRouter","host","useHostStore","auth","useAuthStore","fieldErrors","ref","title","condition","description","phone","connectType","price","formatNumberWithSpaces","number","slice","replace","watch","value","priceClear","computed","addressSuggestion","dadata","async","address","length","response","fetch","method","headers","body","JSON","stringify","console","log","ok","data","json","message","alert","status","statusText","suggestions","suggestion","push","addressInputTimeout","addressOnInput","e","clearTimeout","setTimeout","find","setAddress","document","addEventListener","closest","isDropOver","fileInputRef","uploadedFilesUrls","uploadedFiles","handleDragEnter","preventDefault","handleDragLeave","processUploadedFiles","files","file","type","startsWith","reader","FileReader","onload","url","result","readAsDataURL","handleFileUpload","handleDrop","dataTransfer","removeFile","index","splice","category","categoriesList","categoriesTree","isCategoriesLoading","isCategoryModalShow","selectedMainCategory","categoryPath","loadCategories","success","buildCategoryTree","categories","categoryMap","Map","categoryTree","forEach","set","id","children","parent_category_id","currentCategory","get","parentCategory","handleClickSelectCategory","getCategoryPath","path","name","cat","selectCategory","selectedCategory","validateFields","category_id","test","Object","keys","sendCreatePostForm","isDraft","formData","FormData","append","Authorization","getToken","errors","isPostDraftCreatedModalShow","isPostCreatedModalShow","createPost","token","createDraftPost","closePostCreatedModal","isPostDraftCreatedModalShowObj"],"sourceRoot":""}